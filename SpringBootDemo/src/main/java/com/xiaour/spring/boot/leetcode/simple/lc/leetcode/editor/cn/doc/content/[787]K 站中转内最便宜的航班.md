<p>æœ‰ <code>n</code> ä¸ªåŸå¸‚é€šè¿‡ä¸€äº›èˆªç­è¿æ¥ã€‚ç»™ä½ ä¸€ä¸ªæ•°ç»„&nbsp;<code>flights</code> ï¼Œå…¶ä¸­&nbsp;<code>flights[i] = [from<sub>i</sub>, to<sub>i</sub>, price<sub>i</sub>]</code> ï¼Œè¡¨ç¤ºè¯¥èˆªç­éƒ½ä»åŸå¸‚ <code>from<sub>i</sub></code> å¼€å§‹ï¼Œä»¥ä»·æ ¼ <code>price<sub>i</sub></code> æŠµè¾¾ <code>to<sub>i</sub></code>ã€‚</p>

<p>ç°åœ¨ç»™å®šæ‰€æœ‰çš„åŸå¸‚å’Œèˆªç­ï¼Œä»¥åŠå‡ºå‘åŸå¸‚ <code>src</code> å’Œç›®çš„åœ° <code>dst</code>ï¼Œä½ çš„ä»»åŠ¡æ˜¯æ‰¾åˆ°å‡ºä¸€æ¡æœ€å¤šç»è¿‡ <code>k</code>&nbsp;ç«™ä¸­è½¬çš„è·¯çº¿ï¼Œä½¿å¾—ä» <code>src</code> åˆ° <code>dst</code> çš„ <strong>ä»·æ ¼æœ€ä¾¿å®œ</strong> ï¼Œå¹¶è¿”å›è¯¥ä»·æ ¼ã€‚ å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è·¯çº¿ï¼Œåˆ™è¾“å‡º <code>-1</code>ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p> 
<img alt="" src="https://assets.leetcode.com/uploads/2022/03/18/cheapest-flights-within-k-stops-3drawio.png" style="width: 332px; height: 392px;" /> 
<pre>
<strong>è¾“å…¥:</strong> 
n = 4, flights = [[0,1,100],[1,2,100],[2,0,100],[1,3,600],[2,3,200]], src = 0, dst = 3, k = 1
<strong>è¾“å‡º:</strong> 700 
<strong>è§£é‡Š:</strong> åŸå¸‚èˆªç­å›¾å¦‚ä¸Š
ä»åŸå¸‚ 0 åˆ°åŸå¸‚ 3 ç»è¿‡æœ€å¤š 1 ç«™çš„æœ€ä½³è·¯å¾„ç”¨çº¢è‰²æ ‡è®°ï¼Œè´¹ç”¨ä¸º 100 + 600 = 700ã€‚
è¯·æ³¨æ„ï¼Œé€šè¿‡åŸå¸‚ [0, 1, 2, 3] çš„è·¯å¾„æ›´ä¾¿å®œï¼Œä½†æ— æ•ˆï¼Œå› ä¸ºå®ƒç»è¿‡äº† 2 ç«™ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p> 
<img alt="" src="https://assets.leetcode.com/uploads/2022/03/18/cheapest-flights-within-k-stops-1drawio.png" style="width: 332px; height: 242px;" /> 
<pre>
<strong>è¾“å…¥:</strong> 
n = 3, edges = [[0,1,100],[1,2,100],[0,2,500]], src = 0, dst = 2, k = 1
<strong>è¾“å‡º:</strong> 200
<strong>è§£é‡Š:</strong> 
åŸå¸‚èˆªç­å›¾å¦‚ä¸Š
ä»åŸå¸‚ 0 åˆ°åŸå¸‚ 2 ç»è¿‡æœ€å¤š 1 ç«™çš„æœ€ä½³è·¯å¾„æ ‡è®°ä¸ºçº¢è‰²ï¼Œè´¹ç”¨ä¸º 100 + 100 = 200ã€‚
</pre>

<p><strong class="example">ç¤ºä¾‹ 3ï¼š</strong></p> 
<img alt="" src="https://assets.leetcode.com/uploads/2022/03/18/cheapest-flights-within-k-stops-2drawio.png" style="width: 332px; height: 242px;" /> 
<pre>
<b>è¾“å…¥ï¼š</b>n = 3, flights = [[0,1,100],[1,2,100],[0,2,500]], src = 0, dst = 2, k = 0
<b>è¾“å‡ºï¼š</b>500
<strong>è§£é‡Šï¼š</strong>
åŸå¸‚èˆªç­å›¾å¦‚ä¸Š
ä»åŸå¸‚ 0 åˆ°åŸå¸‚ 2 ä¸ç»è¿‡ç«™ç‚¹çš„æœ€ä½³è·¯å¾„æ ‡è®°ä¸ºçº¢è‰²ï¼Œè´¹ç”¨ä¸º 500ã€‚
</pre>

<p><strong>æç¤ºï¼š</strong></p>

<ul> 
 <li><code>1 &lt;= n &lt;= 100</code></li> 
 <li><code>0 &lt;= flights.length &lt;= (n * (n - 1) / 2)</code></li> 
 <li><code>flights[i].length == 3</code></li> 
 <li><code>0 &lt;= from<sub>i</sub>, to<sub>i</sub> &lt; n</code></li> 
 <li><code>from<sub>i</sub> != to<sub>i</sub></code></li> 
 <li><code>1 &lt;= price<sub>i</sub> &lt;= 10<sup>4</sup></code></li> 
 <li>èˆªç­æ²¡æœ‰é‡å¤ï¼Œä¸”ä¸å­˜åœ¨è‡ªç¯</li> 
 <li><code>0 &lt;= src, dst, k &lt; n</code></li> 
 <li><code>src != dst</code></li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>æ·±åº¦ä¼˜å…ˆæœç´¢ | å¹¿åº¦ä¼˜å…ˆæœç´¢ | å›¾ | åŠ¨æ€è§„åˆ’ | æœ€çŸ­è·¯ | å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</details><br>

<div>ğŸ‘ 688, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/issues' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://labuladong.online/algo/fname.html?fname=jbæ’ä»¶ç®€ä»‹' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.online/algo/' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼šä¸ºæ»¡è¶³å¹¿å¤§è¯»è€…çš„éœ€æ±‚ï¼Œç½‘ç«™ä¸Šæ¶ [é€Ÿæˆç›®å½•](https://labuladong.online/algo/intro/quick-learning-plan/)ï¼Œå¦‚æœ‰éœ€è¦å¯ä»¥çœ‹ä¸‹ï¼Œè°¢è°¢å¤§å®¶çš„æ”¯æŒ~**



<p><strong><a href="https://labuladong.online/algo/dynamic-programming/cheap-travel/" target="_blank">â­ï¸labuladong é¢˜è§£</a></strong></p>
<details><summary><strong>labuladong æ€è·¯</strong></summary>


<div id="labuladong_solution_zh">

## åŸºæœ¬æ€è·¯

`dp` å‡½æ•°çš„å®šä¹‰ï¼š**ä»èµ·ç‚¹ `src` å‡ºå‘ï¼Œ`k` æ­¥ä¹‹å†…ï¼ˆä¸€æ­¥å°±æ˜¯ä¸€æ¡è¾¹ï¼‰åˆ°è¾¾èŠ‚ç‚¹ `s` çš„æœ€å°è·¯å¾„æƒé‡ä¸º `dp(s, k)`**ã€‚

è¿™æ ·ï¼Œé¢˜ç›®æƒ³æ±‚çš„æœ€å°æœºç¥¨å¼€é”€å°±å¯ä»¥ç”¨ `dp(dst, K+1)` æ¥è¡¨ç¤ºã€‚

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

```java
dp(dst, k) = min(
    dp(s1, k - 1) + w1,
    dp(s2, k - 1) + w2
)
```

![](https://labuladong.online/algo/images/travel-shortest/4.jpeg)

**è¯¦ç»†é¢˜è§£**ï¼š
  - [æ—…æ¸¸çœé’±å¤§æ³•ï¼šåŠ æƒæœ€çŸ­è·¯å¾„](https://labuladong.online/algo/dynamic-programming/cheap-travel/)

</div>





<div id="solution">

## è§£æ³•ä»£ç 



<div class="tab-panel"><div class="tab-nav">
<button data-tab-item="cpp" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">cppğŸ¤–</button>

<button data-tab-item="python" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">pythonğŸ¤–</button>

<button data-tab-item="java" class="tab-nav-button btn active" data-tab-group="default" onclick="switchTab(this)">javağŸŸ¢</button>

<button data-tab-item="go" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">goğŸ¤–</button>

<button data-tab-item="javascript" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javascriptğŸ¤–</button>
</div><div class="tab-content">
<div data-tab-item="cpp" class="tab-item " data-tab-group="default"><div class="highlight">

```cpp
// æ³¨æ„ï¼šcpp ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

#include <vector>
#include <unordered_map>
#include <climits>
#include <algorithm>

using namespace std;

class Solution {
private:
    unordered_map<int, vector<pair<int, int>>> indegree;
    int src, dst;
    // å¤‡å¿˜å½•
    vector<vector<int>> memo;

    // å®šä¹‰ï¼šä» src å‡ºå‘ï¼Œk æ­¥ä¹‹å†…åˆ°è¾¾ s çš„æœ€çŸ­è·¯å¾„æƒé‡
    int dp(int s, int k) {
        // base case
        if (s == src) return 0;
        if (k == 0) return -1;
        // æŸ¥å¤‡å¿˜å½•ï¼Œé˜²æ­¢å†—ä½™è®¡ç®—
        if (memo[s][k] != -888) return memo[s][k];

        // åˆå§‹åŒ–ä¸ºæœ€å¤§å€¼ï¼Œæ–¹ä¾¿ç­‰ä¼šå–æœ€å°å€¼
        int res = INT_MAX;
        if (indegree.count(s)) {
            // å½“ s æœ‰å…¥åº¦èŠ‚ç‚¹æ—¶ï¼Œåˆ†è§£ä¸ºå­é—®é¢˜
            for (auto& v : indegree[s]) {
                int from = v.first;
                int price = v.second;
                // ä» src åˆ°è¾¾ç›¸é‚»çš„å…¥åº¦èŠ‚ç‚¹æ‰€éœ€çš„æœ€çŸ­è·¯å¾„æƒé‡
                int subProblem = dp(from, k - 1);
                // è·³è¿‡æ— è§£çš„æƒ…å†µ
                if (subProblem != -1) {
                    res = min(res, subProblem + price);
                }
            }
        }
        // å­˜å…¥å¤‡å¿˜å½•
        memo[s][k] = (res == INT_MAX) ? -1 : res;
        return memo[s][k];
    }

public:
    int findCheapestPrice(int n, vector<vector<int>>& flights, int src, int dst, int K) {
        // å°†ä¸­è½¬ç«™ä¸ªæ•°è½¬åŒ–æˆè¾¹çš„æ¡æ•°
        K++;
        this->src = src;
        this->dst = dst;
        // åˆå§‹åŒ–å¤‡å¿˜å½•ï¼Œå…¨éƒ¨å¡«ä¸€ä¸ªç‰¹æ®Šå€¼
        memo = vector<vector<int>>(n, vector<int>(K + 1, -888));

        for (auto& f : flights) {
            int from = f[0], to = f[1], price = f[2];
            // è®°å½•è°æŒ‡å‘è¯¥èŠ‚ç‚¹ï¼Œä»¥åŠä¹‹é—´çš„æƒé‡
            indegree[to].emplace_back(from, price);
        }

        return dp(dst, K);
    }
};
```

</div></div>

<div data-tab-item="python" class="tab-item " data-tab-group="default"><div class="highlight">

```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
# æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

from typing import List
import collections

class Solution:
    # å¤‡å¿˜å½•
    def __init__(self):
        self.memo = []
        self.indegree = collections.defaultdict(list)
        self.src = 0
        self.dst = 0

    def findCheapestPrice(self, n: int, flights: List[List[int]], src: int, dst: int, K: int) -> int:
        # å°†ä¸­è½¬ç«™ä¸ªæ•°è½¬åŒ–æˆè¾¹çš„æ¡æ•°
        K += 1
        self.src = src
        self.dst = dst
        # åˆå§‹åŒ–å¤‡å¿˜å½•ï¼Œå…¨éƒ¨å¡«ä¸€ä¸ªç‰¹æ®Šå€¼
        self.memo = [[-888 for _ in range(K + 1)] for _ in range(n)]

        for f in flights:
            from_node, to_node, price = f
            # è®°å½•è°æŒ‡å‘è¯¥èŠ‚ç‚¹ï¼Œä»¥åŠä¹‹é—´çš„æƒé‡
            self.indegree[to_node].append((from_node, price))

        # æŸ¥æ‰¾æœ€ä¾¿å®œçš„èˆªç­ä»·æ ¼
        result = self.dp(dst, K)
        # å¦‚æœç»“æœä»ç„¶æ˜¯åˆå§‹åŒ–çš„ç‰¹æ®Šå€¼ï¼Œè¯´æ˜æ²¡æœ‰æ‰¾åˆ°è·¯å¾„
        return result if result != -888 else -1

    # å®šä¹‰ï¼šä» src å‡ºå‘ï¼Œk æ­¥ä¹‹å†…åˆ°è¾¾ s çš„æœ€çŸ­è·¯å¾„æƒé‡
    def dp(self, s: int, k: int) -> int:
        # base case
        if s == self.src:
            return 0
        if k == 0:
            return -1
        # æŸ¥å¤‡å¿˜å½•ï¼Œé˜²æ­¢å†—ä½™è®¡ç®—
        if self.memo[s][k] != -888:
            return self.memo[s][k]

        # åˆå§‹åŒ–ä¸ºæœ€å¤§å€¼ï¼Œæ–¹ä¾¿ç­‰ä¼šå–æœ€å°å€¼
        res = float('inf')
        # å½“ s æœ‰å…¥åº¦èŠ‚ç‚¹æ—¶ï¼Œåˆ†è§£ä¸ºå­é—®é¢˜
        for from_node, price in self.indegree.get(s, []):
            # ä» src åˆ°è¾¾ç›¸é‚»çš„å…¥åº¦èŠ‚ç‚¹æ‰€éœ€çš„æœ€çŸ­è·¯å¾„æƒé‡
            subProblem = self.dp(from_node, k - 1)
            # è·³è¿‡æ— è§£çš„æƒ…å†µ
            if subProblem != -1:
                res = min(res, subProblem + price)
        
        # å­˜å…¥å¤‡å¿˜å½•
        self.memo[s][k] = res if res != float('inf') else -1
        return self.memo[s][k]
```

</div></div>

<div data-tab-item="java" class="tab-item active" data-tab-group="default"><div class="highlight">

```java
class Solution {
    HashMap<Integer, List<int[]>> indegree;
    int src, dst;
    // å¤‡å¿˜å½•
    int[][] memo;

    public int findCheapestPrice(int n, int[][] flights, int src, int dst, int K) {
        // å°†ä¸­è½¬ç«™ä¸ªæ•°è½¬åŒ–æˆè¾¹çš„æ¡æ•°
        K++;
        this.src = src;
        this.dst = dst;
        // åˆå§‹åŒ–å¤‡å¿˜å½•ï¼Œå…¨éƒ¨å¡«ä¸€ä¸ªç‰¹æ®Šå€¼
        memo = new int[n][K + 1];
        for (int[] row : memo) {
            Arrays.fill(row, -888);
        }

        indegree = new HashMap<>();
        for (int[] f : flights) {
            int from = f[0];
            int to = f[1];
            int price = f[2];
            // è®°å½•è°æŒ‡å‘è¯¥èŠ‚ç‚¹ï¼Œä»¥åŠä¹‹é—´çš„æƒé‡
            indegree.putIfAbsent(to, new LinkedList<>());
            indegree.get(to).add(new int[]{from, price});
        }

        return dp(dst, K);
    }

    // å®šä¹‰ï¼šä» src å‡ºå‘ï¼Œk æ­¥ä¹‹å†…åˆ°è¾¾ s çš„æœ€çŸ­è·¯å¾„æƒé‡
    int dp(int s, int k) {
        // base case
        if (s == src) {
            return 0;
        }
        if (k == 0) {
            return -1;
        }
        // æŸ¥å¤‡å¿˜å½•ï¼Œé˜²æ­¢å†—ä½™è®¡ç®—
        if (memo[s][k] != -888) {
            return memo[s][k];
        }

        // åˆå§‹åŒ–ä¸ºæœ€å¤§å€¼ï¼Œæ–¹ä¾¿ç­‰ä¼šå–æœ€å°å€¼
        int res = Integer.MAX_VALUE;
        if (indegree.containsKey(s)) {
            // å½“ s æœ‰å…¥åº¦èŠ‚ç‚¹æ—¶ï¼Œåˆ†è§£ä¸ºå­é—®é¢˜
            for (int[] v : indegree.get(s)) {
                int from = v[0];
                int price = v[1];
                // ä» src åˆ°è¾¾ç›¸é‚»çš„å…¥åº¦èŠ‚ç‚¹æ‰€éœ€çš„æœ€çŸ­è·¯å¾„æƒé‡
                int subProblem = dp(from, k - 1);/**<extend up -300>![](https://labuladong.online/algo/images/travel-shortest/4.jpeg) */
                // è·³è¿‡æ— è§£çš„æƒ…å†µ
                if (subProblem != -1) {
                    res = Math.min(res, subProblem + price);
                }
            }
        }
        // å­˜å…¥å¤‡å¿˜å½•
        memo[s][k] = res == Integer.MAX_VALUE ? -1 : res;
        return memo[s][k];
    }
}
```

</div></div>

<div data-tab-item="go" class="tab-item " data-tab-group="default"><div class="highlight">

```go
// æ³¨æ„ï¼šgo ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

import "math"

func findCheapestPrice(n int, flights [][]int, src int, dst int, K int) int {
    // å°†ä¸­è½¬ç«™ä¸ªæ•°è½¬åŒ–æˆè¾¹çš„æ¡æ•°
    K++
    // å¤‡å¿˜å½•
    memo := make([][]int, n)
    // åˆå§‹åŒ–å¤‡å¿˜å½•ï¼Œå…¨éƒ¨å¡«ä¸€ä¸ªç‰¹æ®Šå€¼
    for i := range memo {
        memo[i] = make([]int, K+1)
        for j := range memo[i] {
            memo[i][j] = -888
        }
    }

    indegree := make(map[int][][]int)
    for _, f := range flights {
        from, to, price := f[0], f[1], f[2]
        // è®°å½•è°æŒ‡å‘è¯¥èŠ‚ç‚¹ï¼Œä»¥åŠä¹‹é—´çš„æƒé‡
        indegree[to] = append(indegree[to], []int{from, price})
    }

    return dp(dst, K, src, indegree, memo)
}

// å®šä¹‰ï¼šä» src å‡ºå‘ï¼Œk æ­¥ä¹‹å†…åˆ°è¾¾ s çš„æœ€çŸ­è·¯å¾„æƒé‡
func dp(s int, k int, src int, indegree map[int][][]int, memo [][]int) int {
    // base case
    if s == src {
        return 0
    }
    if k == 0 {
        return -1
    }
    // æŸ¥å¤‡å¿˜å½•ï¼Œé˜²æ­¢å†—ä½™è®¡ç®—
    if memo[s][k] != -888 {
        return memo[s][k]
    }

    // åˆå§‹åŒ–ä¸ºæœ€å¤§å€¼ï¼Œæ–¹ä¾¿ç­‰ä¼šå–æœ€å°å€¼
    res := math.MaxInt32
    if nodes, ok := indegree[s]; ok {
        // å½“ s æœ‰å…¥åº¦èŠ‚ç‚¹æ—¶ï¼Œåˆ†è§£ä¸ºå­é—®é¢˜
        for _, v := range nodes {
            from, price := v[0], v[1]
            // ä» src åˆ°è¾¾ç›¸é‚»çš„å…¥åº¦èŠ‚ç‚¹æ‰€éœ€çš„æœ€çŸ­è·¯å¾„æƒé‡
            subProblem := dp(from, k-1, src, indegree, memo)
            // è·³è¿‡æ— è§£çš„æƒ…å†µ
            if subProblem != -1 {
                res = int(math.Min(float64(res), float64(subProblem+price)))
            }
        }
    }
    // å­˜å…¥å¤‡å¿˜å½•
    if res == math.MaxInt32 {
        memo[s][k] = -1
    } else {
        memo[s][k] = res
    }
    return memo[s][k]
}
```

</div></div>

<div data-tab-item="javascript" class="tab-item " data-tab-group="default"><div class="highlight">

```javascript
// æ³¨æ„ï¼šjavascript ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

var findCheapestPrice = function(n, flights, src, dst, K) {
    // å°†ä¸­è½¬ç«™ä¸ªæ•°è½¬åŒ–æˆè¾¹çš„æ¡æ•°
    K++;
    
    // å¤‡å¿˜å½•
    const memo = new Array(n).fill(0).map(() => new Array(K + 1).fill(-888));
    
    // åˆå§‹åŒ–å¤‡å¿˜å½•ï¼Œå…¨éƒ¨å¡«ä¸€ä¸ªç‰¹æ®Šå€¼
    const indegree = new Map();

    for (const f of flights) {
        const [from, to, price] = f;
        // è®°å½•è°æŒ‡å‘è¯¥èŠ‚ç‚¹ï¼Œä»¥åŠä¹‹é—´çš„æƒé‡
        if (!indegree.has(to)) {
            indegree.set(to, []);
        }
        indegree.get(to).push([from, price]);
    }

    // å®šä¹‰ï¼šä» src å‡ºå‘ï¼Œk æ­¥ä¹‹å†…åˆ°è¾¾ s çš„æœ€çŸ­è·¯å¾„æƒé‡
    // @visualize status(s, k)
    function dp(s, k) {
        // base case
        if (s === src) {
            return 0;
        }
        if (k === 0) {
            return -1;
        }
        // æŸ¥å¤‡å¿˜å½•ï¼Œé˜²æ­¢å†—ä½™è®¡ç®—
        if (memo[s][k] !== -888) {
            return memo[s][k];
        }

        // åˆå§‹åŒ–ä¸ºæœ€å¤§å€¼ï¼Œæ–¹ä¾¿ç­‰ä¼šå–æœ€å°å€¼
        let res = Number.MAX_VALUE;
        if (indegree.has(s)) {
            // å½“ s æœ‰å…¥åº¦èŠ‚ç‚¹æ—¶ï¼Œåˆ†è§£ä¸ºå­é—®é¢˜
            for (const [from, price] of indegree.get(s)) {
                // ä» src åˆ°è¾¾ç›¸é‚»çš„å…¥åº¦èŠ‚ç‚¹æ‰€éœ€çš„æœ€çŸ­è·¯å¾„æƒé‡
                // @visualize choose(price)
                const subProblem = dp(from, k - 1);
                // @visualize unchoose()
                // è·³è¿‡æ— è§£çš„æƒ…å†µ
                if (subProblem !== -1) {
                    res = Math.min(res, subProblem + price);
                }
            }
        }
        // å­˜å…¥å¤‡å¿˜å½•
        memo[s][k] = res === Number.MAX_VALUE ? -1 : res;
        return memo[s][k];
    }

    return dp(dst, K);
};
```

</div></div>
</div></div>

<hr /><details open hint-container details><summary style="font-size: medium"><strong>ğŸ¥³ğŸ¥³ ç®—æ³•å¯è§†åŒ– ğŸ¥³ğŸ¥³</strong></summary><div id="data_cheapest-flights-within-k-stops"  ></div><div class="resizable aspect-ratio-container" style="height: 100%;">
<div id="iframe_cheapest-flights-within-k-stops"></div></div>
</details><hr /><br />

</div>
</details>
</div>



