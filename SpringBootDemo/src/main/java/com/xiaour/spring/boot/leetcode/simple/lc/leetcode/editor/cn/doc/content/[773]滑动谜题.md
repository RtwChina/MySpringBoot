<p>åœ¨ä¸€ä¸ª <code>2 x 3</code> çš„æ¿ä¸Šï¼ˆ<code>board</code>ï¼‰æœ‰ 5 å—ç –ç“¦ï¼Œç”¨æ•°å­— <code>1~5</code> æ¥è¡¨ç¤º, ä»¥åŠä¸€å—ç©ºç¼ºç”¨&nbsp;<code>0</code>&nbsp;æ¥è¡¨ç¤ºã€‚ä¸€æ¬¡ <strong>ç§»åŠ¨</strong> å®šä¹‰ä¸ºé€‰æ‹©&nbsp;<code>0</code>&nbsp;ä¸ä¸€ä¸ªç›¸é‚»çš„æ•°å­—ï¼ˆä¸Šä¸‹å·¦å³ï¼‰è¿›è¡Œäº¤æ¢.</p>

<p>æœ€ç»ˆå½“æ¿&nbsp;<code>board</code>&nbsp;çš„ç»“æœæ˜¯&nbsp;<code>[[1,2,3],[4,5,0]]</code>&nbsp;è°œæ¿è¢«è§£å¼€ã€‚</p>

<p>ç»™å‡ºä¸€ä¸ªè°œæ¿çš„åˆå§‹çŠ¶æ€&nbsp;<code>board</code>&nbsp;ï¼Œè¿”å›æœ€å°‘å¯ä»¥é€šè¿‡å¤šå°‘æ¬¡ç§»åŠ¨è§£å¼€è°œæ¿ï¼Œå¦‚æœä¸èƒ½è§£å¼€è°œæ¿ï¼Œåˆ™è¿”å› <code>-1</code> ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<p><img src="https://assets.leetcode.com/uploads/2021/06/29/slide1-grid.jpg" /></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>board = [[1,2,3],[4,0,5]]
<strong>è¾“å‡ºï¼š</strong>1
<strong>è§£é‡Šï¼š</strong>äº¤æ¢ 0 å’Œ 5 ï¼Œ1 æ­¥å®Œæˆ
</pre>

<p><strong>ç¤ºä¾‹ 2:</strong></p>

<p><img src="https://assets.leetcode.com/uploads/2021/06/29/slide2-grid.jpg" /></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>board = [[1,2,3],[5,4,0]]
<strong>è¾“å‡ºï¼š</strong>-1
<strong>è§£é‡Šï¼š</strong>æ²¡æœ‰åŠæ³•å®Œæˆè°œæ¿
</pre>

<p><strong>ç¤ºä¾‹ 3:</strong></p>

<p><img alt="" src="https://assets.leetcode.com/uploads/2021/06/29/slide3-grid.jpg" /></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>board = [[4,1,2],[5,0,3]]
<strong>è¾“å‡ºï¼š</strong>5
<strong>è§£é‡Šï¼š</strong>
æœ€å°‘å®Œæˆè°œæ¿çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°æ˜¯ 5 ï¼Œ
ä¸€ç§ç§»åŠ¨è·¯å¾„:
å°šæœªç§»åŠ¨: [[4,1,2],[5,0,3]]
ç§»åŠ¨ 1 æ¬¡: [[4,1,2],[0,5,3]]
ç§»åŠ¨ 2 æ¬¡: [[0,1,2],[4,5,3]]
ç§»åŠ¨ 3 æ¬¡: [[1,0,2],[4,5,3]]
ç§»åŠ¨ 4 æ¬¡: [[1,2,0],[4,5,3]]
ç§»åŠ¨ 5 æ¬¡: [[1,2,3],[4,5,0]]
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul> 
 <li><code>board.length == 2</code></li> 
 <li><code>board[i].length == 3</code></li> 
 <li><code>0 &lt;= board[i][j] &lt;= 5</code></li> 
 <li><code>board[i][j]</code>&nbsp;ä¸­æ¯ä¸ªå€¼éƒ½ <strong>ä¸åŒ</strong></li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>å¹¿åº¦ä¼˜å…ˆæœç´¢ | è®°å¿†åŒ–æœç´¢ | æ•°ç»„ | åŠ¨æ€è§„åˆ’ | å›æº¯ | çŸ©é˜µ</details><br>

<div>ğŸ‘ 347, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/issues' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://labuladong.online/algo/fname.html?fname=jbæ’ä»¶ç®€ä»‹' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.online/algo/' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼š[ç½‘ç«™ä¼šå‘˜](https://labuladong.online/algo/intro/site-vip/) å³å°†æ¶¨ä»·ï¼Œæœ‰éœ€è¦å¯ä»¥å°½å¿«è´­ä¹°/ç»­è´¹ï¼Œè°¢è°¢å¤§å®¶çš„æ”¯æŒ~**



<p><strong><a href="https://labuladong.online/algo/practice-in-action/sliding-puzzle/" target="_blank">â­ï¸labuladong é¢˜è§£</a></strong></p>
<details><summary><strong>labuladong æ€è·¯</strong></summary>


<div id="labuladong_solution_zh">

## åŸºæœ¬æ€è·¯

è¿™é¢˜å¯ä»¥ç”¨ BFS ç®—æ³•è§£å†³ã€‚BFS ç®—æ³•å¹¶ä¸åªæ˜¯ä¸€ä¸ªå¯»è·¯ç®—æ³•ï¼Œè€Œæ˜¯ä¸€ç§æš´åŠ›æœç´¢ç®—æ³•ï¼Œåªè¦æ¶‰åŠæš´åŠ›ç©·ä¸¾çš„é—®é¢˜ï¼ŒBFS å°±å¯ä»¥ç”¨ï¼Œè€Œä¸”å¯ä»¥æœ€å¿«åœ°ç©·ä¸¾å‡ºç­”æ¡ˆï¼Œå…³äº BFS ç®—æ³•åŸç†å¯ä»¥çœ‹ [BFS ç®—æ³•æ¡†æ¶](https://labuladong.online/algo/essential-technique/bfs-framework/)ã€‚

**è¯¦ç»†é¢˜è§£**ï¼š
  - [å¦‚ä½•ç”¨ BFS ç®—æ³•ç§’æ€å„ç§æ™ºåŠ›é¢˜](https://labuladong.online/algo/practice-in-action/sliding-puzzle/)
  - [ã€å¼ºåŒ–ç»ƒä¹ ã€‘BFS ç»å…¸ä¹ é¢˜ II](https://labuladong.online/algo/problem-set/bfs-ii/)

</div>





<div id="solution">

## è§£æ³•ä»£ç 



<div class="tab-panel"><div class="tab-nav">
<button data-tab-item="cpp" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">cppğŸ¤–</button>

<button data-tab-item="python" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">pythonğŸ¤–</button>

<button data-tab-item="java" class="tab-nav-button btn active" data-tab-group="default" onclick="switchTab(this)">javağŸŸ¢</button>

<button data-tab-item="go" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">goğŸ¤–</button>

<button data-tab-item="javascript" class="tab-nav-button btn " data-tab-group="default" onclick="switchTab(this)">javascriptğŸ¤–</button>
</div><div class="tab-content">
<div data-tab-item="cpp" class="tab-item " data-tab-group="default"><div class="highlight">

```cpp
// æ³¨æ„ï¼šcpp ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

#include <vector>
#include <string>
#include <queue>
#include <unordered_set>
using namespace std;

class Solution {
public:
    int slidingPuzzle(vector<vector<int>>& board) {
        int m = 2, n = 3;
        string target = "123450";
        // å°† 2x3 çš„æ•°ç»„è½¬åŒ–æˆå­—ç¬¦ä¸²ä½œä¸º BFS çš„èµ·ç‚¹
        string start;
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                start += to_string(board[i][j]);
            }
        }

        // è®°å½•ä¸€ç»´å­—ç¬¦ä¸²çš„ç›¸é‚»ç´¢å¼•
        vector<vector<int>> neighbor = {
            {1, 3},
            {0, 4, 2},
            {1, 5},
            {0, 4},
            {3, 1, 5},
            {4, 2}
        };

        // ****** BFS ç®—æ³•æ¡†æ¶å¼€å§‹ ******
        queue<string> q;
        unordered_set<string> visited;
        // ä»èµ·ç‚¹å¼€å§‹ BFS æœç´¢
        q.push(start);
        visited.insert(start);

        int step = 0;
        while (!q.empty()) {
            int sz = q.size();
            for (int i = 0; i < sz; i++) {
                string cur = q.front();
                q.pop();
                // åˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç›®æ ‡å±€é¢
                if (target == cur) {
                    return step;
                }
                // æ‰¾åˆ°æ•°å­— 0 çš„ç´¢å¼•
                int idx = 0;
                for (; cur[idx] != '0'; idx++) ;
                // å°†æ•°å­— 0 å’Œç›¸é‚»çš„æ•°å­—äº¤æ¢ä½ç½®
                for (int adj : neighbor[idx]) {
                    string new_board = swap(cur, adj, idx);
                    // é˜²æ­¢èµ°å›å¤´è·¯
                    if (!visited.count(new_board)) {
                        q.push(new_board);
                        visited.insert(new_board);
                    }
                }
            }
            step++;
        }
        // ****** BFS ç®—æ³•æ¡†æ¶ç»“æŸ ******
        return -1;
    }

private:
    // Helper function to swap characters in a string
    string swap(string s, int i, int j) {
        char temp = s[i];
        s[i] = s[j];
        s[j] = temp;
        return s;
    }
};
```

</div></div>

<div data-tab-item="python" class="tab-item " data-tab-group="default"><div class="highlight">

```python
# æ³¨æ„ï¼špython ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
# æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

class Solution:
    def slidingPuzzle(self, board: List[List[int]]) -> int:
        m, n = 2, 3
        target = "123450"
        # å°† 2x3 çš„æ•°ç»„è½¬åŒ–æˆå­—ç¬¦ä¸²ä½œä¸º BFS çš„èµ·ç‚¹
        start = ''.join(str(num) for row in board for num in row)

        # è®°å½•ä¸€ç»´å­—ç¬¦ä¸²çš„ç›¸é‚»ç´¢å¼•
        neighbor = [
            [1, 3],
            [0, 4, 2],
            [1, 5],
            [0, 4],
            [3, 1, 5],
            [4, 2]
        ]

        # ****** BFS ç®—æ³•æ¡†æ¶å¼€å§‹ ******
        q = deque([start])
        visited = set([start])

        # ä»èµ·ç‚¹å¼€å§‹ BFS æœç´¢
        step = 0
        while q:
            sz = len(q)
            for _ in range(sz):
                cur = q.popleft()
                # åˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç›®æ ‡å±€é¢
                if target == cur:
                    return step
                # æ‰¾åˆ°æ•°å­— 0 çš„ç´¢å¼•
                idx = cur.index('0')
                # å°†æ•°å­— 0 å’Œç›¸é‚»çš„æ•°å­—äº¤æ¢ä½ç½®
                for adj in neighbor[idx]:
                    new_board = self.swap(list(cur), adj, idx)
                    # é˜²æ­¢èµ°å›å¤´è·¯
                    if new_board not in visited:
                        q.append(new_board)
                        visited.add(new_board)
            step += 1
        # ****** BFS ç®—æ³•æ¡†æ¶ç»“æŸ ******
        return -1

    def swap(self, chars, i, j):
        chars[i], chars[j] = chars[j], chars[i]
        return ''.join(chars)
```

</div></div>

<div data-tab-item="java" class="tab-item active" data-tab-group="default"><div class="highlight">

```java
class Solution {
    public int slidingPuzzle(int[][] board) {
        int m = 2, n = 3;
        StringBuilder sb = new StringBuilder();
        String target = "123450";
        // å°† 2x3 çš„æ•°ç»„è½¬åŒ–æˆå­—ç¬¦ä¸²ä½œä¸º BFS çš„èµ·ç‚¹
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                sb.append(board[i][j]);
            }
        }
        String start = sb.toString();

        // è®°å½•ä¸€ç»´å­—ç¬¦ä¸²çš„ç›¸é‚»ç´¢å¼•
        int[][] neighbor = new int[][]{
                {1, 3},
                {0, 4, 2},
                {1, 5},
                {0, 4},
                {3, 1, 5},
                {4, 2}
        };

        // ****** BFS ç®—æ³•æ¡†æ¶å¼€å§‹ ******
        Queue<String> q = new LinkedList<>();
        HashSet<String> visited = new HashSet<>();
        // ä»èµ·ç‚¹å¼€å§‹ BFS æœç´¢
        q.offer(start);
        visited.add(start);

        int step = 0;
        while (!q.isEmpty()) {
            int sz = q.size();
            for (int i = 0; i < sz; i++) {
                String cur = q.poll();
                // åˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç›®æ ‡å±€é¢
                if (target.equals(cur)) {
                    return step;
                }
                // æ‰¾åˆ°æ•°å­— 0 çš„ç´¢å¼•
                int idx = 0;
                for (; cur.charAt(idx) != '0'; idx++) ;
                // å°†æ•°å­— 0 å’Œç›¸é‚»çš„æ•°å­—äº¤æ¢ä½ç½®
                for (int adj : neighbor[idx]) {
                    String new_board = swap(cur.toCharArray(), adj, idx);
                    // é˜²æ­¢èµ°å›å¤´è·¯
                    if (!visited.contains(new_board)) {
                        q.offer(new_board);
                        visited.add(new_board);
                    }
                }
            }
            step++;
        }
        // ****** BFS ç®—æ³•æ¡†æ¶ç»“æŸ ******
        return -1;
    }

    private String swap(char[] chars, int i, int j) {
        char temp = chars[i];
        chars[i] = chars[j];
        chars[j] = temp;
        return new String(chars);
    }

}
```

</div></div>

<div data-tab-item="go" class="tab-item " data-tab-group="default"><div class="highlight">

```go
// æ³¨æ„ï¼šgo ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

func slidingPuzzle(board [][]int) int {
    m, n := 2, 3
    target := "123450"
    // å°† 2x3 çš„æ•°ç»„è½¬åŒ–æˆå­—ç¬¦ä¸²ä½œä¸º BFS çš„èµ·ç‚¹
    start := ""
    for i := 0; i < m; i++ {
        for j := 0; j < n; j++ {
            start += strconv.Itoa(board[i][j])
        }
    }

    // è®°å½•ä¸€ç»´å­—ç¬¦ä¸²çš„ç›¸é‚»ç´¢å¼•
    neighbor := [][]int{
        {1, 3},
        {0, 4, 2},
        {1, 5},
        {0, 4},
        {3, 1, 5},
        {4, 2},
    }

    // ****** BFS ç®—æ³•æ¡†æ¶å¼€å§‹ ******
    q := []string{start}
    visited := make(map[string]bool)
    visited[start] = true

    // ä»èµ·ç‚¹å¼€å§‹ BFS æœç´¢
    step := 0
    for len(q) > 0 {
        sz := len(q)
        for i := 0; i < sz; i++ {
            cur := q[0]
            q = q[1:]
            // åˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç›®æ ‡å±€é¢
            if cur == target {
                return step
            }
            // æ‰¾åˆ°æ•°å­— 0 çš„ç´¢å¼•
            idx := 0
            for ; cur[idx] != '0'; idx++ {}
            // å°†æ•°å­— 0 å’Œç›¸é‚»çš„æ•°å­—äº¤æ¢ä½ç½®
            for _, adj := range neighbor[idx] {
                newBoard := swap(cur, adj, idx)
                // é˜²æ­¢èµ°å›å¤´è·¯
                if !visited[newBoard] {
                    q = append(q, newBoard)
                    visited[newBoard] = true
                }
            }
        }
        step++
    }
    // ****** BFS ç®—æ³•æ¡†æ¶ç»“æŸ ******
    return -1
}

// Helper function to swap characters in a string at given indices
func swap(s string, i, j int) string {
    runes := []rune(s)
    runes[i], runes[j] = runes[j], runes[i]
    return string(runes)
}
```

</div></div>

<div data-tab-item="javascript" class="tab-item " data-tab-group="default"><div class="highlight">

```javascript
// æ³¨æ„ï¼šjavascript ä»£ç ç”± chatGPTğŸ¤– æ ¹æ®æˆ‘çš„ java ä»£ç ç¿»è¯‘ã€‚
// æœ¬ä»£ç çš„æ­£ç¡®æ€§å·²é€šè¿‡åŠ›æ‰£éªŒè¯ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œå¯ä»¥å¯¹ç…§ java ä»£ç æŸ¥çœ‹ã€‚

var slidingPuzzle = function(board) {
    let m = 2, n = 3;
    let sb = [];
    let target = "123450";
    // å°† 2x3 çš„æ•°ç»„è½¬åŒ–æˆå­—ç¬¦ä¸²ä½œä¸º BFS çš„èµ·ç‚¹
    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            sb.push(board[i][j]);
        }
    }
    let start = sb.join('');

    // è®°å½•ä¸€ç»´å­—ç¬¦ä¸²çš„ç›¸é‚»ç´¢å¼•
    let neighbor = [
        [1, 3],
        [0, 4, 2],
        [1, 5],
        [0, 4],
        [3, 1, 5],
        [4, 2]
    ];

    // ****** BFS ç®—æ³•æ¡†æ¶å¼€å§‹ ******
    let q = [];
    let visited = new Set();
    // ä»èµ·ç‚¹å¼€å§‹ BFS æœç´¢
    q.push(start);
    visited.add(start);

    let step = 0;
    while (q.length > 0) {
        let sz = q.length;
        for (let i = 0; i < sz; i++) {
            let cur = q.shift();
            // åˆ¤æ–­æ˜¯å¦è¾¾åˆ°ç›®æ ‡å±€é¢
            if (target === cur) {
                return step;
            }
            // æ‰¾åˆ°æ•°å­— 0 çš„ç´¢å¼•
            let idx = 0;
            for (; cur.charAt(idx) !== '0'; idx++);
            // å°†æ•°å­— 0 å’Œç›¸é‚»çš„æ•°å­—äº¤æ¢ä½ç½®
            for (let adj of neighbor[idx]) {
                let new_board = swap(cur.split(''), adj, idx);
                // é˜²æ­¢èµ°å›å¤´è·¯
                if (!visited.has(new_board)) {
                    q.push(new_board);
                    visited.add(new_board);
                }
            }
        }
        step++;
    }
    // ****** BFS ç®—æ³•æ¡†æ¶ç»“æŸ ******
    return -1;
};

var swap = function(chars, i, j) {
    let temp = chars[i];
    chars[i] = chars[j];
    chars[j] = temp;
    return chars.join('');
};
```

</div></div>
</div></div>

<hr /><details open hint-container details><summary style="font-size: medium"><strong>ğŸŒŸğŸŒŸ ç®—æ³•å¯è§†åŒ– ğŸŒŸğŸŒŸ</strong></summary><div id="data_sliding-puzzle"  ></div><div class="resizable aspect-ratio-container" style="height: 100%;">
<div id="iframe_sliding-puzzle"></div></div>
</details><hr /><br />

</div>
</details>
</div>





